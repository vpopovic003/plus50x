<h1 id="lab-9-birthdays">Lab 9: Birthdays</h1>

<div class="alert" data-alert="warning" role="alert"><p>You are welcome to collaborate with one or two classmates on this lab, though it is expected that every student in any such group contribute equally to the lab.</p></div>

<p>Create a web application to keep track of friends’ birthdays.</p>

<p><img src="templates/images/birthdays.png" alt="screenshot of birthdays website"></p>

<h2 id="getting-started">Getting Started</h2>

<div class="alert" data-alert="primary" role="alert"><p>Started CS50x in 2021 or prior and need to migrate your work from CS50 IDE to the new VS Code codespace? Be sure to check out our instructions on how to <a href="../../new/">migrate</a> your files!</p></div>

<p>Open <a href="https://code.cs50.io/">VS Code</a>.</p>

<p>Start by clicking inside your terminal window, then execute <code class="language-plaintext highlighter-rouge">cd</code> by itself. You should find that its “prompt” resembles the below.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$
</code></pre></div></div>

<p>Click inside of that terminal window and then execute</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://cdn.cs50.net/2021/fall/labs/9/birthdays.zip
</code></pre></div></div>

<p>followed by Enter in order to download a ZIP called <code class="language-plaintext highlighter-rouge">birthdays.zip</code> in your codespace. Take care not to overlook the space between <code class="language-plaintext highlighter-rouge">wget</code> and the following URL, or any other character for that matter!</p>

<p>Now execute</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unzip birthdays.zip
</code></pre></div></div>

<p>to create a folder called <code class="language-plaintext highlighter-rouge">birthdays</code>. You no longer need the ZIP file, so you can execute</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rm birthdays.zip
</code></pre></div></div>

<p>and respond with “y” followed by Enter at the prompt to remove the ZIP file you downloaded.</p>

<p>Now type</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd birthdays
</code></pre></div></div>

<p>followed by Enter to move yourself into (i.e., open) that directory. Your prompt should now resemble the below.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>birthdays/ $
</code></pre></div></div>

<p>If all was successful, you should execute</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ls
</code></pre></div></div>

<p>and you should see the following files and folders:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>app.py  birthdays.db  static/  templates/
</code></pre></div></div>

<p>If you run into any trouble, follow these same steps again and see if you can determine where you went wrong!</p>

<h2 id="understanding">Understanding</h2>

<p>In <code class="language-plaintext highlighter-rouge">app.py</code>, you’ll find the start of a Flask web application. The application has one route (<code class="language-plaintext highlighter-rouge">/</code>) that accepts both <code class="language-plaintext highlighter-rouge">POST</code> requests (after the <code class="language-plaintext highlighter-rouge">if</code>) and <code class="language-plaintext highlighter-rouge">GET</code> requests (after the <code class="language-plaintext highlighter-rouge">else</code>). Currently, when the <code class="language-plaintext highlighter-rouge">/</code> route is requested via <code class="language-plaintext highlighter-rouge">GET</code>, the <code class="language-plaintext highlighter-rouge">index.html</code> template is rendered. When the <code class="language-plaintext highlighter-rouge">/</code> route is requested via <code class="language-plaintext highlighter-rouge">POST</code>, the user is redirected back to <code class="language-plaintext highlighter-rouge">/</code> via <code class="language-plaintext highlighter-rouge">GET</code>.</p>

<p><code class="language-plaintext highlighter-rouge">birthdays.db</code> is a SQLite database with one table, <code class="language-plaintext highlighter-rouge">birthdays</code>, that has four columns: <code class="language-plaintext highlighter-rouge">id</code>, <code class="language-plaintext highlighter-rouge">name</code>, <code class="language-plaintext highlighter-rouge">month</code>, and <code class="language-plaintext highlighter-rouge">day</code>. There are a few rows already in this table, though ultimately your web application will support the ability to insert rows into this table!</p>

<p>In the <code class="language-plaintext highlighter-rouge">static</code> directory is a <code class="language-plaintext highlighter-rouge">styles.css</code> file containing the CSS code for this web application. No need to edit this file, though you’re welcome to if you’d like!</p>

<p>In the <code class="language-plaintext highlighter-rouge">templates</code> directory is an <code class="language-plaintext highlighter-rouge">index.html</code> file that will be rendered when the user views your web application.</p>

<h2 id="implementation-details">Implementation Details</h2>

<p>Complete the implementation of a web application to let users store and keep track of birthdays.</p>

<ul>
  <li data-marker="*">When the <code class="language-plaintext highlighter-rouge">/</code> route is requested via <code class="language-plaintext highlighter-rouge">GET</code>, your web application should display, in a table, all of the people in your database along with their birthdays.
    <ul>
      <li data-marker="*">First, in <code class="language-plaintext highlighter-rouge">app.py</code>, add logic in your <code class="language-plaintext highlighter-rouge">GET</code> request handling to query the <code class="language-plaintext highlighter-rouge">birthdays.db</code> database for all birthdays. Pass all of that data to your <code class="language-plaintext highlighter-rouge">index.html</code> template.</li>
      <li data-marker="*">Then, in <code class="language-plaintext highlighter-rouge">index.html</code>, add logic to render each birthday as a row in the table. Each row should have two columns: one column for the person’s name and another column for the person’s birthday.</li>
    </ul>
  </li>
  <li data-marker="*">When the <code class="language-plaintext highlighter-rouge">/</code> route is requested via <code class="language-plaintext highlighter-rouge">POST</code>, your web application should add a new birthday to your database and then re-render the index page.
    <ul>
      <li data-marker="*">First, in <code class="language-plaintext highlighter-rouge">index.html</code>, add an HTML form. The form should let users type in a name, a birthday month, and a birthday day. Be sure the form submits to <code class="language-plaintext highlighter-rouge">/</code> (its “action”) with a method of <code class="language-plaintext highlighter-rouge">post</code>.</li>
      <li data-marker="*">Then, in <code class="language-plaintext highlighter-rouge">app.py</code>, add logic in your <code class="language-plaintext highlighter-rouge">POST</code> request handling to <code class="language-plaintext highlighter-rouge">INSERT</code> a new row into the <code class="language-plaintext highlighter-rouge">birthdays</code> table based on the data supplied by the user.</li>
    </ul>
  </li>
</ul>

<p>Optionally, you may also:</p>

<ul>
  <li data-marker="*">Add the ability to delete and/or edit birthday entries.</li>
  <li data-marker="*">Add any additional features of your choosing!</li>
</ul>

<h3 id="walkthrough">Walkthrough</h3>

<div class="alert" data-alert="primary" role="alert"><p>This video was recorded when the course was still using CS50 IDE for writing code. Though the interface may look different from your codespace, the behavior of the two environments should be largely similar!</p></div>

<iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="border" data-video="" src="https://video.cs50.io/HXwvj8x1Fcs"></iframe>

<h3 id="hints">Hints</h3>

<ul>
  <li data-marker="*">Recall that you can call <code class="language-plaintext highlighter-rouge">db.execute</code> to execute SQL queries within <code class="language-plaintext highlighter-rouge">app.py</code>.
    <ul>
      <li data-marker="*">If you call <code class="language-plaintext highlighter-rouge">db.execute</code> to run a <code class="language-plaintext highlighter-rouge">SELECT</code> query, recall that the function will return to you a list of dictionaries, where each dictionary represents one row returned by your query.</li>
    </ul>
  </li>
  <li data-marker="*">You’ll likely find it helpful to pass in additional data to <code class="language-plaintext highlighter-rouge">render_template()</code> in your <code class="language-plaintext highlighter-rouge">index</code> function so that access birthday data inside of your <code class="language-plaintext highlighter-rouge">index.html</code> template.</li>
  <li data-marker="*">Recall that the <code class="language-plaintext highlighter-rouge">tr</code> tag can be used to create a table row and the <code class="language-plaintext highlighter-rouge">td</code> tag can be used to create a table data cell.</li>
  <li data-marker="*">Recall that, with Jinja, you can create a <a href="https://jinja.palletsprojects.com/en/2.11.x/templates/#for"><code class="language-plaintext highlighter-rouge">for</code> loop</a> inside your <code class="language-plaintext highlighter-rouge">index.html</code> file.</li>
  <li data-marker="*">In <code class="language-plaintext highlighter-rouge">app.py</code>, you can obtain the data <code class="language-plaintext highlighter-rouge">POST</code>ed by the user’s form submission via <code class="language-plaintext highlighter-rouge">request.form.get(field)</code> where <code class="language-plaintext highlighter-rouge">field</code> is a string representing the <code class="language-plaintext highlighter-rouge">name</code> attribute of an <code class="language-plaintext highlighter-rouge">input</code> from your form.
    <ul>
      <li data-marker="*">For example, if in <code class="language-plaintext highlighter-rouge">index.html</code>, you had an <code class="language-plaintext highlighter-rouge">&lt;input name="foo" type="text"&gt;</code>, you could use <code class="language-plaintext highlighter-rouge">request.form.get("foo")</code> in <code class="language-plaintext highlighter-rouge">app.py</code> to extract the user’s input.</li>
    </ul>
  </li>
</ul>

<details><summary>Not sure how to solve?</summary><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="border" data-video="" src="https://video.cs50.io/lVwv4o8vmvI"></iframe></details>

<h3 id="testing">Testing</h3>

<p>No <code class="language-plaintext highlighter-rouge">check50</code> for this lab! But be sure to test your web application by adding some birthdays and ensuring that the data appears in your table as expected.</p>

<p>Run <code class="language-plaintext highlighter-rouge">flask run</code> in your terminal while in your <code class="language-plaintext highlighter-rouge">birthdays</code> directory to start a web server that serves your Flask application.</p>

<h2 id="how-to-submit">How to Submit</h2>

<p>In your terminal, execute the below to submit your work.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>submit50 cs50/labs/2022/x/birthdays
</code></pre></div></div>
